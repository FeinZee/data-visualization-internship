(function(t){function e(e){for(var n,o,u=e[0],l=e[1],s=e[2],d=0,h=[];d<u.length;d++)o=u[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(h.length)h.shift()();return i.push.apply(i,s||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,u=1;u<a.length;u++){var l=a[u];0!==r[l]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/data-visualization-internship/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var c=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("85ec"),r=a.n(n);r.a},"1b4a":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o={name:"App"},u=o,l=(a("034f"),a("2877")),s=Object(l["a"])(u,r,i,!1,null,null,null),c=s.exports,d=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"layout"}},[a("router-view"),a("c-menu",{attrs:{id:"menu",mode:"vertical",theme:"dark",collapsed:t.collapsed,"active-name":"1"}},[a("c-menu-item",{attrs:{name:"1"}},[a("c-icon-data-trend"),t._v(" PVUV ")],1),a("c-menu-item",{attrs:{name:"2",disabled:""}},[a("c-icon-more"),t._v(" 其他 ")],1)],1)],1)},p=[],f={name:"Layout",data:function(){return{collapsed:!0}},methods:{}},v=f,g=(a("fc6c"),Object(l["a"])(v,h,p,!1,null,"0b552ec1",null)),m=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"floating-bar"}},[a("p",{staticClass:"inline"},[t._v("时间：")]),a("c-date-picker",{attrs:{"start-placeholder":t.timeValue[0],"end-placeholder":t.timeValue[1],type:"daterange",setCellDisabled:t.setCellDisabledDate},on:{change:t.change},model:{value:t.timeValue,callback:function(e){t.timeValue=e},expression:"timeValue"}})],1),a("section",{attrs:{id:"chart-region"}},[t._m(0),a("line-chart",{directives:[{name:"loading",rawName:"v-loading:[loadingArgs]",value:t.loading,expression:"loading",arg:t.loadingArgs}],ref:"lineChart",attrs:{id:"line-chart"}})],1),a("section",{attrs:{id:"table-region"}},[t._m(1),a("data-table",{directives:[{name:"loading",rawName:"v-loading:[loadingArgs]",value:t.loading,expression:"loading",arg:t.loadingArgs}],ref:"table",attrs:{id:"table"}})],1)])},D=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"tag",attrs:{id:"tag1"}},[a("p",[t._v("多日趋势对比图")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h4",{staticClass:"tag",attrs:{id:"tag2"}},[a("p",[t._v("多日数据汇总表")])])}],V=(a("baa5"),a("b85c")),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("s-chart",{attrs:{id:"c-chart",data:t.lineData,"data-fields":t.dataFields}},[a("s-line",{attrs:{data:t.lineData,"data-fields":t.dataFields,"css-point":t.pointStyle}}),a("s-axis",{attrs:{attrs:{orient:"left"},"css-axis":!1,"css-scale":!1}}),a("s-axis",{attrs:{attrs:{orient:"bottom"}}}),a("s-legend",{attrs:{attrs:{align:["center","bottom"]},"css-icon":{borderRadius:10},"css-text":{fontSize:12}}}),a("s-tooltip",{attrs:{attrs:t.tooltipAttrs}})],1),a("c-radio-group",{attrs:{id:"checkbox"},model:{value:t.PVUV,callback:function(e){t.PVUV=e},expression:"PVUV"}},[a("c-radio-button",{attrs:{value:"PV"}},[t._v(" PV ")]),a("c-radio-button",{attrs:{value:"UV"}},[t._v(" UV ")])],1)],1)},_=[],x=(a("99af"),{name:"LineChart",data:function(){var t=this;return{PVUV:"PV",lineData:[],pvData:[],uvData:[],tooltipAttrs:{title:function(e){return e[0].hintDate+"\t"+t.PVUV+"值"},formatter:function(t){return"".concat(t.platform," ").concat(t.number)}},dataFields:{row:"platform",value:"number",text:"date"},pointStyle:{strokeColor:"#fff"}}},methods:{dataChanged:function(){"PV"===this.PVUV?this.lineData=this.pvData:this.lineData=this.uvData}},watch:{PVUV:function(){this.dataChanged()}}}),y=x,P=(a("6fff"),Object(l["a"])(y,w,_,!1,null,"5e9edb08",null)),O=P.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("c-table",{attrs:{height:t.height,bordered:"",columns:t.columns,dataSource:t.sammarizedData}})},C=[],S=(a("d81d"),a("13d5"),a("3835")),$={name:"Table",data:function(){return{height:300,dataSource:[],columns:[{title:"日期",prop:"date"},{title:"百度统计",children:[{title:"PV",prop:"baidupv"},{title:"UV",prop:"baiduuv"}]},{title:"谷歌统计",children:[{title:"PV",prop:"googlepv"},{title:"UV",prop:"googleuv"}]},{title:"友盟统计",children:[{title:"PV",prop:"umengpv"},{title:"UV",prop:"umenguv"}]}]}},computed:{sammarizedData:function(){var t=this;if(0==this.dataSource.length)return[];var e=0,a=0,n=0,r=0,i=0,o=0,u=["baidupv","baiduuv","googlepv","googleuv","umengpv","umenguv"],l=u.map((function(e){return t.dataSource.reduce((function(t,a){return t+a[e]}),0)})),s=l,c=Object(S["a"])(s,6);e=c[0],a=c[1],n=c[2],r=c[3],i=c[4],o=c[5];var d={date:"总计",baidupv:e,baiduuv:a,googlepv:n,googleuv:r,umengpv:i,umenguv:o},h=this.dataSource.length;l=l.map((function(t){return parseInt(t/h)}));var p=l,f=Object(S["a"])(p,6);e=f[0],a=f[1],n=f[2],r=f[3],i=f[4],o=f[5];var v={date:"日均",baidupv:e,baiduuv:a,googlepv:n,googleuv:r,umengpv:i,umenguv:o};return this.dataSource.concat(d).concat(v)}},watch:{dataSource:function(){0==this.dataSource.length?this.height=250:this.dataSource.length<=4?this.height=49*(4+this.dataSource.length):this.height=480}}},U=$,k=Object(l["a"])(U,j,C,!1,null,null,null),E=k.exports,A={name:"pvuv",components:{"line-chart":O,"data-table":E},data:function(){return{timeValue:[],startDate:"",endDate:"",loading:!1,loadingArgs:{text:"数据正在加载中，请稍后"}}},methods:{change:function(){2==this.timeValue.length&&this.getData(this.timeValue[0],this.timeValue[1])},setCellDisabledDate:function(t){return t<new Date("2020-07-19")||t>=new Date-864e5},openNotification:function(t,e,a,n){this.$notification({title:e,type:n,description:a,placement:t,duration:1e4})},getData:function(t,e){var a=this;this.changeData(1),this.$axios.get("visualization/getPvuv?endDate="+e+"&startDate="+t).then((function(t){console.log(t),0==t.data.errno?a.changeData(0,t.data.data):a.changeData(2,[],t.data.errmsg)})).catch((function(t){a.changeData(2,[],t)}))},changeData:function(t,e){if(1==t)this.loading=!0;else if(2==t)this.loading=!1,this.$refs.table.dataSource=[],this.$refs.lineChart.pvData=[],this.$refs.lineChart.uvData=[],this.$refs.lineChart.dataChanged(),this.openNotification("top-left","提示","暂无数据,请尝试重新选择起始时间或刷新页面！","info");else{this.loading=!1,this.$refs.table.dataSource=e,0==e.length&&this.openNotification("top-left","提示","暂无数据,请尝试重新选择起始时间！","info");var a,n=[],r=[],i=Math.floor((e.length-1)/15),o=i,u=Object(V["a"])(e.reverse());try{for(u.s();!(a=u.n()).done;){var l=a.value,s=l["date"],c=s,d=s;if(e.length>=30)s=s.substring(5,s.length),d=s;else if(o==i)o=0;else{var h=s.lastIndexOf("-");d=s.substring(h+1,s.length),o++}n.push({date:d,platform:"百度统计",number:l["baidupv"],hintDate:c}),n.push({date:d,platform:"谷歌统计",number:l["googlepv"],hintDate:c}),n.push({date:d,platform:"友盟统计",number:l["umengpv"],hintDate:c}),r.push({date:d,platform:"百度统计",number:l["baiduuv"],hintDate:c}),r.push({date:d,platform:"谷歌统计",number:l["googleuv"],hintDate:c}),r.push({date:d,platform:"友盟统计",number:l["umenguv"],hintDate:c})}}catch(p){u.e(p)}finally{u.f()}this.$refs.lineChart.pvData=n,this.$refs.lineChart.uvData=r,this.$refs.lineChart.dataChanged()}}},mounted:function(){var t="2020-08-22",e="2020-08-15";this.getData(e,t),this.timeValue[0]=e,this.timeValue[1]=t}},M=A,z=(a("6d97"),Object(l["a"])(M,b,D,!1,null,null,null)),T=z.exports;n["a"].use(d["a"]);var N=[{path:"/",component:m,redirect:"/pvuv",children:[{path:"/pvuv",component:T}]},{path:"/pvuv",component:m}],F=new d["a"]({routes:N}),I=F,J=a("9570"),L=a("9d75"),R=(a("3a89"),a("4160"),a("a15b"),a("4d63"),a("ac1f"),a("25f0"),a("1276"),a("159b"),a("96eb")),q=a.n(R);function Y(t){return Math.floor(Math.random()*t)}function B(t){var e=t.lastIndexOf("?"),a=t.substring(e+1,t.length),n=a.split("&"),r={};return n.forEach((function(t){var e=t.split("="),a=Object(S["a"])(e,2),n=a[0],i=a[1];r[n]=i})),r}q.a.mock(RegExp("http://localhost:8080/visualization/getPvuv.*"),"get",(function(t){var e=B(t.url),a=+new Date(e["endDate"]),n=new Date(e["startDate"]);a&&n||alert("请求参数出错");var r=[],i=new Date(a);while(i.getTime()>=n){var o={};o.date=[i.getFullYear(),i.getMonth()+1,i.getDate()].join("-"),o.baidupv=Y(65536),o.baiduuv=Y(65536),o.googlepv=Y(65536),o.googleuv=Y(65536),o.umengpv=Y(65536),o.umenguv=Y(65536),r.push(o),a-=864e5,i=new Date(a)}return r}));var G=a("bc3a"),H=a.n(G);a("d3b7");H.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",H.a.interceptors.request.use((function(t){return t}),(function(t){return Promise.reject(t)})),H.a.interceptors.response.use((function(t){return t}),(function(t){return Promise.reject(t)})),n["a"].config.productionTip=!1,n["a"].use(J["a"]),n["a"].use(L),n["a"].prototype.$axios=H.a,new n["a"]({router:I,render:function(t){return t(c)}}).$mount("#app")},"6d97":function(t,e,a){"use strict";var n=a("1b4a"),r=a.n(n);r.a},"6fff":function(t,e,a){"use strict";var n=a("a811"),r=a.n(n);r.a},"85ec":function(t,e,a){},a811:function(t,e,a){},ebb0:function(t,e,a){},fc6c:function(t,e,a){"use strict";var n=a("ebb0"),r=a.n(n);r.a}});
//# sourceMappingURL=app.93d688d7.js.map